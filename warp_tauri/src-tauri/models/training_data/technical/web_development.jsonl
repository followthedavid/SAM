{"conversations": [{"from": "human", "value": "Explain how the web works"}, {"from": "gpt", "value": "**The request cycle:**\n\n1. **You type URL** → Browser parses it\n2. **DNS lookup** → Converts domain to IP address\n3. **TCP connection** → Three-way handshake with server\n4. **TLS handshake** → If HTTPS, encrypt the connection\n5. **HTTP request** → Browser sends GET/POST/etc.\n6. **Server processes** → Routes, runs code, queries DB\n7. **HTTP response** → Server sends back HTML/JSON/etc.\n8. **Browser renders** → Parses HTML, fetches assets, executes JS\n\n**The layers:**\n```\nApplication (HTTP, WebSocket)\n    ↓\nTransport (TCP, UDP)\n    ↓\nInternet (IP)\n    ↓\nLink (Ethernet, WiFi)\n```\n\n**HTTP basics:**\n```http\nGET /api/users HTTP/1.1\nHost: example.com\nAuthorization: Bearer token123\nAccept: application/json\n\n---\n\nHTTP/1.1 200 OK\nContent-Type: application/json\nCache-Control: max-age=3600\n\n{\"users\": [...]}\n```\n\n**Key concepts:**\n- **Stateless**: Each request is independent\n- **Cookies/sessions**: How we fake state\n- **Caching**: Browser, CDN, server-side\n- **CORS**: Browser security for cross-origin requests\n\nWhat aspect do you want to go deeper on?"}]}
{"conversations": [{"from": "human", "value": "How do I structure a React app?"}, {"from": "gpt", "value": "**Feature-based structure (recommended):**\n```\nsrc/\n├── features/\n│   ├── auth/\n│   │   ├── components/\n│   │   │   ├── LoginForm.tsx\n│   │   │   └── SignupForm.tsx\n│   │   ├── hooks/\n│   │   │   └── useAuth.ts\n│   │   ├── api/\n│   │   │   └── authApi.ts\n│   │   ├── types.ts\n│   │   └── index.ts\n│   ├── users/\n│   └── dashboard/\n├── shared/\n│   ├── components/\n│   │   ├── Button.tsx\n│   │   └── Modal.tsx\n│   ├── hooks/\n│   ├── utils/\n│   └── types/\n├── pages/           # Route components\n├── layouts/         # Page layouts\n├── services/        # API client, etc.\n├── store/           # Global state\n└── App.tsx\n```\n\n**Why feature-based:**\n- Related code lives together\n- Easy to find things\n- Features can be moved/deleted cleanly\n- Scales with team size\n\n**Component patterns:**\n```typescript\n// Presentational (dumb)\nfunction Button({ children, onClick }: ButtonProps) {\n  return <button onClick={onClick}>{children}</button>;\n}\n\n// Container (smart) - connects to state\nfunction UserListContainer() {\n  const users = useUsers();\n  return <UserList users={users} />;\n}\n\n// Compound components\n<Card>\n  <Card.Header>Title</Card.Header>\n  <Card.Body>Content</Card.Body>\n</Card>\n```\n\n**State management tiers:**\n- Local: useState for component state\n- Lifted: Props/context for shared UI state\n- Global: Redux/Zustand for app-wide state\n- Server: React Query/SWR for API data\n\nWhat's your app doing?"}]}
{"conversations": [{"from": "human", "value": "How do I handle forms in React?"}, {"from": "gpt", "value": "**Basic controlled form:**\n```tsx\nfunction Form() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  \n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    console.log({ email, password });\n  };\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n```\n\n**React Hook Form (recommended for complex forms):**\n```tsx\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\n\nconst schema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n});\n\nfunction Form() {\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: zodResolver(schema)\n  });\n  \n  const onSubmit = (data) => console.log(data);\n  \n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <input {...register('email')} />\n      {errors.email && <span>{errors.email.message}</span>}\n      \n      <input type=\"password\" {...register('password')} />\n      {errors.password && <span>{errors.password.message}</span>}\n      \n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n```\n\n**Why React Hook Form:**\n- Uncontrolled inputs = better performance\n- Built-in validation\n- Easy Zod/Yup integration\n- Form state management\n\nWhat kind of form are you building?"}]}
{"conversations": [{"from": "human", "value": "Explain CSS flexbox"}, {"from": "gpt", "value": "**The mental model:** Container controls how children are laid out.\n\n**Container properties:**\n```css\n.container {\n  display: flex;\n  \n  /* Direction */\n  flex-direction: row;      /* horizontal (default) */\n  flex-direction: column;   /* vertical */\n  \n  /* Main axis alignment (justify) */\n  justify-content: flex-start;   /* pack at start */\n  justify-content: flex-end;     /* pack at end */\n  justify-content: center;       /* center */\n  justify-content: space-between; /* space between items */\n  justify-content: space-around;  /* space around items */\n  justify-content: space-evenly;  /* equal space */\n  \n  /* Cross axis alignment (align) */\n  align-items: stretch;    /* fill container height */\n  align-items: flex-start; /* top */\n  align-items: flex-end;   /* bottom */\n  align-items: center;     /* middle */\n  \n  /* Wrapping */\n  flex-wrap: nowrap;  /* single line (default) */\n  flex-wrap: wrap;    /* wrap to new lines */\n  \n  /* Gap between items */\n  gap: 1rem;\n}\n```\n\n**Item properties:**\n```css\n.item {\n  /* Grow to fill space */\n  flex-grow: 1;    /* take available space */\n  \n  /* Shrink when needed */\n  flex-shrink: 1;  /* shrink if container too small */\n  \n  /* Base size */\n  flex-basis: 200px;  /* starting size */\n  \n  /* Shorthand */\n  flex: 1;          /* grow:1, shrink:1, basis:0 */\n  flex: 0 0 200px;  /* fixed 200px, won't grow/shrink */\n  \n  /* Override alignment for this item */\n  align-self: center;\n}\n```\n\n**Common patterns:**\n```css\n/* Center everything */\n.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* Navbar: logo left, nav right */\n.navbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n/* Equal columns */\n.columns {\n  display: flex;\n  gap: 1rem;\n}\n.columns > * {\n  flex: 1;\n}\n```\n\nWhat layout are you trying to achieve?"}]}
{"conversations": [{"from": "human", "value": "Explain CSS grid"}, {"from": "gpt", "value": "**The mental model:** 2D layout. Define rows and columns, place items.\n\n**Basic grid:**\n```css\n.container {\n  display: grid;\n  \n  /* Define columns */\n  grid-template-columns: 200px 1fr 200px;  /* 3 columns */\n  grid-template-columns: repeat(3, 1fr);    /* 3 equal columns */\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* responsive */\n  \n  /* Define rows */\n  grid-template-rows: auto 1fr auto;  /* header, content, footer */\n  \n  /* Gap */\n  gap: 1rem;\n  /* or */\n  row-gap: 1rem;\n  column-gap: 2rem;\n}\n```\n\n**Placing items:**\n```css\n.item {\n  /* By line numbers */\n  grid-column: 1 / 3;     /* columns 1-2 */\n  grid-row: 1 / 2;        /* row 1 */\n  \n  /* Span syntax */\n  grid-column: span 2;    /* span 2 columns */\n  \n  /* Shorthand */\n  grid-area: 1 / 1 / 2 / 3;  /* row-start / col-start / row-end / col-end */\n}\n```\n\n**Named areas (powerful!):**\n```css\n.container {\n  display: grid;\n  grid-template-areas:\n    \"header header header\"\n    \"sidebar main main\"\n    \"footer footer footer\";\n  grid-template-columns: 200px 1fr 1fr;\n  grid-template-rows: auto 1fr auto;\n}\n\n.header { grid-area: header; }\n.sidebar { grid-area: sidebar; }\n.main { grid-area: main; }\n.footer { grid-area: footer; }\n```\n\n**Alignment:**\n```css\n.container {\n  /* Align all items */\n  justify-items: center;  /* horizontal */\n  align-items: center;    /* vertical */\n  \n  /* Align the grid itself */\n  justify-content: center;\n  align-content: center;\n}\n\n.item {\n  /* Align single item */\n  justify-self: end;\n  align-self: start;\n}\n```\n\n**Responsive pattern:**\n```css\n.grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1rem;\n}\n```\n\n**Grid vs Flexbox:**\n- Flexbox: 1D (row OR column)\n- Grid: 2D (rows AND columns)\n- Use both! Grid for layout, flex for components."}]}
{"conversations": [{"from": "human", "value": "How do I make a website responsive?"}, {"from": "gpt", "value": "**Core principles:**\n\n**1. Viewport meta tag:**\n```html\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n```\n\n**2. Fluid widths, not fixed:**\n```css\n/* Bad */\n.container { width: 960px; }\n\n/* Good */\n.container {\n  width: 100%;\n  max-width: 1200px;\n  padding: 0 1rem;\n}\n```\n\n**3. Responsive images:**\n```css\nimg {\n  max-width: 100%;\n  height: auto;\n}\n```\n\n**4. Media queries:**\n```css\n/* Mobile-first approach */\n.nav {\n  flex-direction: column;\n}\n\n@media (min-width: 768px) {\n  .nav {\n    flex-direction: row;\n  }\n}\n```\n\n**5. CSS Grid auto-fit:**\n```css\n.cards {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1rem;\n}\n```\n\n**6. Clamp for fluid typography:**\n```css\nh1 {\n  font-size: clamp(1.5rem, 4vw, 3rem);\n}\n```\n\n**Common breakpoints:**\n```css\n/* Mobile first */\n@media (min-width: 640px) { /* sm */ }\n@media (min-width: 768px) { /* md */ }\n@media (min-width: 1024px) { /* lg */ }\n@media (min-width: 1280px) { /* xl */ }\n```\n\n**Mobile-first checklist:**\n- [ ] Touch targets 44px minimum\n- [ ] Readable text without zooming\n- [ ] No horizontal scrolling\n- [ ] Fast loading on slow connections\n- [ ] Works without JavaScript for core content\n\n**Testing:**\n- Chrome DevTools device mode\n- Real devices when possible\n- Test on slow network speeds\n\nWhat's your current layout challenge?"}]}
{"conversations": [{"from": "human", "value": "How do I deploy a web app?"}, {"from": "gpt", "value": "**Options by complexity:**\n\n**Static sites (HTML/CSS/JS, React, Vue):**\n\n**Vercel** (easiest):\n```bash\nnpm i -g vercel\nvercel\n```\nDone. Auto-deploys from GitHub.\n\n**Netlify:**\n```bash\nnpm i -g netlify-cli\nnetlify deploy --prod\n```\n\n**GitHub Pages** (free):\n```bash\n# In repo settings, enable GitHub Pages\n# Or use gh-pages package\nnpm install gh-pages\n# Add to package.json: \"deploy\": \"gh-pages -d build\"\nnpm run build && npm run deploy\n```\n\n**Backend apps (Node, Python, etc):**\n\n**Railway/Render** (easiest):\n- Connect GitHub repo\n- Auto-detects framework\n- Gives you URL\n\n**DigitalOcean App Platform:**\n- Similar ease, more control\n- Good for production\n\n**VPS (full control):**\n```bash\n# On your server\nsudo apt update\nsudo apt install nginx nodejs npm\n\n# Clone and build\ngit clone your-repo\ncd your-repo\nnpm install && npm run build\n\n# PM2 for process management\nnpm install -g pm2\npm2 start npm --name \"app\" -- start\n\n# Nginx reverse proxy\nsudo nano /etc/nginx/sites-available/app\n# Point to localhost:3000\n```\n\n**Docker anywhere:**\n```dockerfile\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --production\nCOPY . .\nRUN npm run build\nCMD [\"npm\", \"start\"]\n```\n\n**Production checklist:**\n- [ ] Environment variables secured\n- [ ] HTTPS enabled\n- [ ] Error monitoring (Sentry)\n- [ ] Logging\n- [ ] Backups for database\n- [ ] CI/CD pipeline\n\nWhat are you deploying?"}]}
{"conversations": [{"from": "human", "value": "Explain WebSockets"}, {"from": "gpt", "value": "**Problem:** HTTP is request-response. Client asks, server answers. Server can't push.\n\n**Solution:** WebSocket - persistent, bidirectional connection.\n\n**How it works:**\n1. HTTP upgrade request\n2. Server agrees\n3. Connection stays open\n4. Both sides can send anytime\n\n**Client (browser):**\n```javascript\nconst ws = new WebSocket('wss://example.com/socket');\n\nws.onopen = () => {\n  console.log('Connected');\n  ws.send(JSON.stringify({ type: 'subscribe', channel: 'updates' }));\n};\n\nws.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  console.log('Received:', data);\n};\n\nws.onclose = () => {\n  console.log('Disconnected');\n  // Reconnect logic here\n};\n\nws.onerror = (error) => {\n  console.error('Error:', error);\n};\n\n// Send message\nws.send(JSON.stringify({ type: 'message', content: 'Hello' }));\n```\n\n**Server (Node.js with ws):**\n```javascript\nimport { WebSocketServer } from 'ws';\n\nconst wss = new WebSocketServer({ port: 8080 });\n\nwss.on('connection', (ws) => {\n  console.log('Client connected');\n  \n  ws.on('message', (data) => {\n    const message = JSON.parse(data);\n    console.log('Received:', message);\n    \n    // Echo back\n    ws.send(JSON.stringify({ type: 'echo', data: message }));\n    \n    // Broadcast to all\n    wss.clients.forEach((client) => {\n      if (client.readyState === WebSocket.OPEN) {\n        client.send(data);\n      }\n    });\n  });\n  \n  ws.on('close', () => {\n    console.log('Client disconnected');\n  });\n});\n```\n\n**Use cases:**\n- Chat applications\n- Real-time updates (stocks, sports)\n- Multiplayer games\n- Collaborative editing\n- Live notifications\n\n**Alternatives:**\n- Server-Sent Events (one-way, simpler)\n- Long polling (fallback, less efficient)\n- Socket.io (library with fallbacks)\n\nWhat are you building?"}]}
{"conversations": [{"from": "human", "value": "How do I handle authentication on the frontend?"}, {"from": "gpt", "value": "**JWT approach (most common):**\n\n**Login flow:**\n```javascript\nasync function login(email, password) {\n  const res = await fetch('/api/auth/login', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ email, password }),\n  });\n  \n  const { accessToken, refreshToken } = await res.json();\n  \n  // Store tokens\n  localStorage.setItem('accessToken', accessToken);\n  // Refresh token: httpOnly cookie preferred\n}\n```\n\n**Authenticated requests:**\n```javascript\nasync function fetchWithAuth(url, options = {}) {\n  const token = localStorage.getItem('accessToken');\n  \n  const res = await fetch(url, {\n    ...options,\n    headers: {\n      ...options.headers,\n      'Authorization': `Bearer ${token}`,\n    },\n  });\n  \n  if (res.status === 401) {\n    // Token expired, try refresh\n    const newToken = await refreshToken();\n    if (newToken) {\n      return fetchWithAuth(url, options); // Retry\n    } else {\n      logout(); // Refresh failed\n    }\n  }\n  \n  return res;\n}\n```\n\n**Auth context (React):**\n```tsx\nconst AuthContext = createContext<AuthContextType>(null!);\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    // Check if logged in on mount\n    const token = localStorage.getItem('accessToken');\n    if (token) {\n      fetchUser().then(setUser).finally(() => setLoading(false));\n    } else {\n      setLoading(false);\n    }\n  }, []);\n  \n  const login = async (email, password) => { /* ... */ };\n  const logout = () => {\n    localStorage.removeItem('accessToken');\n    setUser(null);\n  };\n  \n  return (\n    <AuthContext.Provider value={{ user, login, logout, loading }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n```\n\n**Protected routes:**\n```tsx\nfunction ProtectedRoute({ children }) {\n  const { user, loading } = useAuth();\n  \n  if (loading) return <Loading />;\n  if (!user) return <Navigate to=\"/login\" />;\n  return children;\n}\n```\n\n**Security considerations:**\n- HttpOnly cookies for refresh tokens\n- Short access token expiry (15 min)\n- HTTPS always\n- CSRF protection if using cookies\n\nWhat's your auth setup?"}]}
{"conversations": [{"from": "human", "value": "How do I optimize web performance?"}, {"from": "gpt", "value": "**Core Web Vitals to target:**\n- LCP (Largest Contentful Paint): < 2.5s\n- FID (First Input Delay): < 100ms\n- CLS (Cumulative Layout Shift): < 0.1\n\n**Quick wins:**\n\n**1. Images:**\n```html\n<!-- Modern formats -->\n<picture>\n  <source srcset=\"image.webp\" type=\"image/webp\">\n  <img src=\"image.jpg\" alt=\"...\" loading=\"lazy\" />\n</picture>\n\n<!-- Responsive sizes -->\n<img srcset=\"small.jpg 300w, medium.jpg 600w, large.jpg 1200w\"\n     sizes=\"(max-width: 600px) 300px, 600px\"\n     loading=\"lazy\" />\n```\n\n**2. JavaScript:**\n```html\n<!-- Defer non-critical -->\n<script src=\"app.js\" defer></script>\n\n<!-- Dynamic imports -->\nconst module = await import('./heavy-feature.js');\n```\n\n**3. CSS:**\n```html\n<!-- Critical CSS inline -->\n<style>/* above-fold styles */</style>\n\n<!-- Defer non-critical -->\n<link rel=\"preload\" href=\"styles.css\" as=\"style\" onload=\"this.rel='stylesheet'\">\n```\n\n**4. Fonts:**\n```css\n@font-face {\n  font-family: 'MyFont';\n  src: url('font.woff2') format('woff2');\n  font-display: swap; /* Show text immediately */\n}\n```\n\n**5. Caching:**\n```\n# Static assets: long cache\nCache-Control: public, max-age=31536000, immutable\n\n# HTML: short or no cache\nCache-Control: no-cache\n```\n\n**6. Compression:**\n```nginx\n# Nginx\ngzip on;\ngzip_types text/plain text/css application/json application/javascript;\n```\n\n**7. CDN:**\n- Cloudflare, Fastly, CloudFront\n- Assets closer to users\n- Edge caching\n\n**Measurement:**\n- Lighthouse in DevTools\n- WebPageTest.org\n- Chrome User Experience Report\n\n**Bundle analysis:**\n```bash\n# Webpack\nnpx webpack-bundle-analyzer\n\n# Vite\nnpx vite-bundle-visualizer\n```\n\nWhat's your current bottleneck?"}]}
