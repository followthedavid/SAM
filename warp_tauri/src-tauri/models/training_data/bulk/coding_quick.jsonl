{"conversations": [{"from": "human", "value": "How do I reverse a string in Python?"}, {"from": "gpt", "value": "```python\ntext = \"hello\"\nreversed_text = text[::-1]  # \"olleh\"\n```\n\nThe `[::-1]` slice steps backward through the string."}]}
{"conversations": [{"from": "human", "value": "How do I check if a list is empty in Python?"}, {"from": "gpt", "value": "```python\nif not my_list:\n    print(\"Empty\")\n\n# or explicitly:\nif len(my_list) == 0:\n    print(\"Empty\")\n```\n\nEmpty lists are falsy in Python, so `not my_list` is the idiomatic approach."}]}
{"conversations": [{"from": "human", "value": "How do I merge two dictionaries in Python?"}, {"from": "gpt", "value": "Python 3.9+:\n```python\nmerged = dict1 | dict2\n```\n\nPython 3.5+:\n```python\nmerged = {**dict1, **dict2}\n```\n\nLater values override earlier ones for duplicate keys."}]}
{"conversations": [{"from": "human", "value": "How do I remove duplicates from a list?"}, {"from": "gpt", "value": "```python\n# If order doesn't matter:\nunique = list(set(my_list))\n\n# If order matters (Python 3.7+):\nunique = list(dict.fromkeys(my_list))\n```"}]}
{"conversations": [{"from": "human", "value": "How do I read a file in Python?"}, {"from": "gpt", "value": "```python\nwith open('file.txt', 'r') as f:\n    content = f.read()  # Entire file as string\n    # or\n    lines = f.readlines()  # List of lines\n```\n\nThe `with` statement ensures the file is properly closed."}]}
{"conversations": [{"from": "human", "value": "How do I write to a file in Python?"}, {"from": "gpt", "value": "```python\nwith open('file.txt', 'w') as f:\n    f.write('Hello, World!')\n\n# Append instead of overwrite:\nwith open('file.txt', 'a') as f:\n    f.write('More text')\n```"}]}
{"conversations": [{"from": "human", "value": "How do I sort a list in Python?"}, {"from": "gpt", "value": "```python\n# In-place sort (modifies original):\nmy_list.sort()\n\n# Return new sorted list:\nsorted_list = sorted(my_list)\n\n# Reverse order:\nmy_list.sort(reverse=True)\n\n# Sort by key:\nmy_list.sort(key=len)  # Sort by length\n```"}]}
{"conversations": [{"from": "human", "value": "How do I iterate over a dictionary in Python?"}, {"from": "gpt", "value": "```python\n# Keys:\nfor key in my_dict:\n    print(key)\n\n# Values:\nfor value in my_dict.values():\n    print(value)\n\n# Both:\nfor key, value in my_dict.items():\n    print(f\"{key}: {value}\")\n```"}]}
{"conversations": [{"from": "human", "value": "How do I format a string in Python?"}, {"from": "gpt", "value": "```python\nname = \"Alice\"\nage = 30\n\n# f-strings (Python 3.6+, recommended):\nf\"Name: {name}, Age: {age}\"\n\n# .format():\n\"Name: {}, Age: {}\".format(name, age)\n\n# %-formatting (old style):\n\"Name: %s, Age: %d\" % (name, age)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I handle exceptions in Python?"}, {"from": "gpt", "value": "```python\ntry:\n    risky_operation()\nexcept ValueError as e:\n    print(f\"Value error: {e}\")\nexcept Exception as e:\n    print(f\"Other error: {e}\")\nelse:\n    print(\"Success - no exception\")\nfinally:\n    print(\"Always runs\")\n```"}]}
{"conversations": [{"from": "human", "value": "How do I create a list comprehension?"}, {"from": "gpt", "value": "```python\n# Basic:\nsquares = [x**2 for x in range(10)]\n\n# With condition:\nevens = [x for x in range(10) if x % 2 == 0]\n\n# Nested:\nflattened = [item for sublist in nested for item in sublist]\n```"}]}
{"conversations": [{"from": "human", "value": "How do I make an HTTP request in Python?"}, {"from": "gpt", "value": "```python\nimport requests\n\n# GET:\nresponse = requests.get('https://api.example.com/data')\ndata = response.json()\n\n# POST:\nresponse = requests.post('https://api.example.com/data', \n                        json={'key': 'value'})\n\n# With headers:\nresponse = requests.get(url, headers={'Authorization': 'Bearer token'})\n```"}]}
{"conversations": [{"from": "human", "value": "How do I parse JSON in Python?"}, {"from": "gpt", "value": "```python\nimport json\n\n# String to dict:\ndata = json.loads('{\"key\": \"value\"}')\n\n# Dict to string:\njson_string = json.dumps({'key': 'value'})\n\n# File operations:\nwith open('data.json') as f:\n    data = json.load(f)\n\nwith open('data.json', 'w') as f:\n    json.dump(data, f, indent=2)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use regex in Python?"}, {"from": "gpt", "value": "```python\nimport re\n\n# Search:\nmatch = re.search(r'\\d+', 'abc123def')\nif match:\n    print(match.group())  # '123'\n\n# Find all:\nnumbers = re.findall(r'\\d+', 'a1b2c3')  # ['1', '2', '3']\n\n# Replace:\nresult = re.sub(r'\\d+', 'X', 'a1b2c3')  # 'aXbXcX'\n\n# Match at start:\nif re.match(r'hello', 'hello world'):\n    print(\"Starts with hello\")\n```"}]}
{"conversations": [{"from": "human", "value": "How do I get the current date and time in Python?"}, {"from": "gpt", "value": "```python\nfrom datetime import datetime\n\nnow = datetime.now()\nprint(now)  # 2024-01-15 14:30:45.123456\n\n# Formatted:\nprint(now.strftime('%Y-%m-%d %H:%M:%S'))\n\n# Just date or time:\ntoday = datetime.now().date()\ncurrent_time = datetime.now().time()\n```"}]}
{"conversations": [{"from": "human", "value": "How do I work with paths in Python?"}, {"from": "gpt", "value": "```python\nfrom pathlib import Path\n\n# Create path:\np = Path('/home/user/file.txt')\n\n# Properties:\np.name      # 'file.txt'\np.stem      # 'file'\np.suffix    # '.txt'\np.parent    # Path('/home/user')\n\n# Operations:\np.exists()\np.is_file()\np.is_dir()\n\n# Join paths:\nPath('/home') / 'user' / 'file.txt'\n\n# List files:\nlist(Path('.').glob('*.py'))\n```"}]}
{"conversations": [{"from": "human", "value": "How do I run a shell command from Python?"}, {"from": "gpt", "value": "```python\nimport subprocess\n\n# Simple run:\nresult = subprocess.run(['ls', '-la'], capture_output=True, text=True)\nprint(result.stdout)\n\n# Check for errors:\nresult = subprocess.run(['ls'], check=True)\n\n# Get output as string:\noutput = subprocess.check_output(['echo', 'hello'], text=True)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I create a class in Python?"}, {"from": "gpt", "value": "```python\nclass Dog:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n    \n    def bark(self):\n        return f\"{self.name} says woof!\"\n    \n    def __str__(self):\n        return f\"Dog({self.name}, {self.age})\"\n\ndog = Dog(\"Rex\", 3)\nprint(dog.bark())\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use decorators in Python?"}, {"from": "gpt", "value": "```python\ndef my_decorator(func):\n    def wrapper(*args, **kwargs):\n        print(\"Before\")\n        result = func(*args, **kwargs)\n        print(\"After\")\n        return result\n    return wrapper\n\n@my_decorator\ndef say_hello():\n    print(\"Hello!\")\n\nsay_hello()\n# Output: Before, Hello!, After\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use virtual environments in Python?"}, {"from": "gpt", "value": "```bash\n# Create:\npython -m venv myenv\n\n# Activate (Linux/Mac):\nsource myenv/bin/activate\n\n# Activate (Windows):\nmyenv\\Scripts\\activate\n\n# Install packages:\npip install requests\n\n# Save dependencies:\npip freeze > requirements.txt\n\n# Install from requirements:\npip install -r requirements.txt\n\n# Deactivate:\ndeactivate\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use map, filter, reduce in Python?"}, {"from": "gpt", "value": "```python\nfrom functools import reduce\n\nnumbers = [1, 2, 3, 4, 5]\n\n# Map: apply function to each\nsquared = list(map(lambda x: x**2, numbers))  # [1, 4, 9, 16, 25]\n\n# Filter: keep matching elements\nevens = list(filter(lambda x: x % 2 == 0, numbers))  # [2, 4]\n\n# Reduce: accumulate to single value\nsum_all = reduce(lambda a, b: a + b, numbers)  # 15\n```\n\nList comprehensions are often more Pythonic than map/filter."}]}
{"conversations": [{"from": "human", "value": "How do I check the type of a variable in Python?"}, {"from": "gpt", "value": "```python\nx = 5\n\n# Get type:\ntype(x)  # <class 'int'>\n\n# Check type:\nisinstance(x, int)  # True\nisinstance(x, (int, float))  # True (multiple types)\n\n# Type name as string:\ntype(x).__name__  # 'int'\n```"}]}
{"conversations": [{"from": "human", "value": "How do I copy a list in Python?"}, {"from": "gpt", "value": "```python\noriginal = [1, 2, 3]\n\n# Shallow copy (top-level only):\ncopy1 = original.copy()\ncopy2 = list(original)\ncopy3 = original[:]\n\n# Deep copy (nested objects too):\nimport copy\ndeep = copy.deepcopy(original)\n\n# WRONG (same reference):\nnot_copy = original  # Changes to one affect the other\n```"}]}
{"conversations": [{"from": "human", "value": "How do I get command line arguments in Python?"}, {"from": "gpt", "value": "```python\nimport sys\n\n# Basic:\nargs = sys.argv  # ['script.py', 'arg1', 'arg2']\nscript_name = sys.argv[0]\n\n# Better (argparse):\nimport argparse\nparser = argparse.ArgumentParser()\nparser.add_argument('--name', required=True)\nparser.add_argument('--count', type=int, default=1)\nargs = parser.parse_args()\n\nprint(args.name, args.count)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I work with environment variables in Python?"}, {"from": "gpt", "value": "```python\nimport os\n\n# Get:\nvalue = os.getenv('MY_VAR', 'default')\n\n# Get (raises if missing):\nvalue = os.environ['MY_VAR']\n\n# Set:\nos.environ['MY_VAR'] = 'value'\n\n# Check if exists:\nif 'MY_VAR' in os.environ:\n    print(\"Set\")\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use async/await in Python?"}, {"from": "gpt", "value": "```python\nimport asyncio\n\nasync def fetch_data():\n    await asyncio.sleep(1)  # Simulated IO\n    return \"data\"\n\nasync def main():\n    # Run coroutines concurrently:\n    results = await asyncio.gather(\n        fetch_data(),\n        fetch_data(),\n        fetch_data()\n    )\n    print(results)\n\n# Run:\nasyncio.run(main())\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use enumerate in Python?"}, {"from": "gpt", "value": "```python\nitems = ['a', 'b', 'c']\n\nfor i, item in enumerate(items):\n    print(f\"{i}: {item}\")\n# 0: a\n# 1: b\n# 2: c\n\n# Start from different index:\nfor i, item in enumerate(items, start=1):\n    print(f\"{i}: {item}\")\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use zip in Python?"}, {"from": "gpt", "value": "```python\nnames = ['Alice', 'Bob']\nages = [25, 30]\n\n# Combine:\nfor name, age in zip(names, ages):\n    print(f\"{name}: {age}\")\n\n# Create dict:\nname_age = dict(zip(names, ages))  # {'Alice': 25, 'Bob': 30}\n\n# Unzip:\npairs = [('a', 1), ('b', 2)]\nletters, numbers = zip(*pairs)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use lambda functions in Python?"}, {"from": "gpt", "value": "```python\n# Anonymous function:\nsquare = lambda x: x ** 2\nprint(square(5))  # 25\n\n# With multiple args:\nadd = lambda a, b: a + b\n\n# Common use - sorting:\npeople = [('Alice', 25), ('Bob', 20)]\nsorted_people = sorted(people, key=lambda p: p[1])  # Sort by age\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use defaultdict in Python?"}, {"from": "gpt", "value": "```python\nfrom collections import defaultdict\n\n# Auto-create missing keys:\ncounts = defaultdict(int)  # Default 0\ncounts['a'] += 1  # No KeyError\n\n# Default list:\ngrouped = defaultdict(list)\ngrouped['key'].append('value')  # No need to check if key exists\n\n# Default set:\nunique = defaultdict(set)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use Counter in Python?"}, {"from": "gpt", "value": "```python\nfrom collections import Counter\n\nwords = ['apple', 'banana', 'apple', 'cherry', 'banana', 'apple']\ncounter = Counter(words)\n\nprint(counter)  # Counter({'apple': 3, 'banana': 2, 'cherry': 1})\nprint(counter['apple'])  # 3\nprint(counter.most_common(2))  # [('apple', 3), ('banana', 2)]\n\n# Works on strings too:\nCounter('hello')  # {'l': 2, 'h': 1, 'e': 1, 'o': 1}\n```"}]}
{"conversations": [{"from": "human", "value": "How do I profile Python code?"}, {"from": "gpt", "value": "```python\nimport time\n\n# Simple timing:\nstart = time.time()\n# ... code ...\nprint(f\"Took {time.time() - start:.2f}s\")\n\n# cProfile:\nimport cProfile\ncProfile.run('your_function()')\n\n# line_profiler (install first):\n# @profile\n# def your_function():\n#     ...\n# Run: kernprof -l -v script.py\n\n# Memory profiler:\nfrom memory_profiler import profile\n@profile\ndef my_func():\n    # ...\n```"}]}
{"conversations": [{"from": "human", "value": "How do I create a generator in Python?"}, {"from": "gpt", "value": "```python\n# Function generator:\ndef countdown(n):\n    while n > 0:\n        yield n\n        n -= 1\n\nfor i in countdown(5):\n    print(i)  # 5, 4, 3, 2, 1\n\n# Generator expression:\nsquares = (x**2 for x in range(10))\n\n# Lazy - computes values on demand, memory efficient\nfor sq in squares:\n    print(sq)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use context managers in Python?"}, {"from": "gpt", "value": "```python\n# Using existing:\nwith open('file.txt') as f:\n    content = f.read()\n# File auto-closed\n\n# Creating custom:\nfrom contextlib import contextmanager\n\n@contextmanager\ndef timer():\n    import time\n    start = time.time()\n    yield  # Code in 'with' block runs here\n    print(f\"Elapsed: {time.time() - start:.2f}s\")\n\nwith timer():\n    # do stuff\n    pass\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use slots in Python?"}, {"from": "gpt", "value": "```python\nclass Regular:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\nclass WithSlots:\n    __slots__ = ['x', 'y']  # Fixed attributes\n    \n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n# Benefits of __slots__:\n# - Less memory per instance\n# - Faster attribute access\n# - Prevents adding new attributes dynamically\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use dataclasses in Python?"}, {"from": "gpt", "value": "```python\nfrom dataclasses import dataclass, field\n\n@dataclass\nclass Person:\n    name: str\n    age: int\n    tags: list = field(default_factory=list)\n\np = Person(\"Alice\", 30)\nprint(p)  # Person(name='Alice', age=30, tags=[])\n\n# Auto-generates __init__, __repr__, __eq__\n# Use frozen=True for immutable\n@dataclass(frozen=True)\nclass Point:\n    x: float\n    y: float\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use type hints in Python?"}, {"from": "gpt", "value": "```python\nfrom typing import List, Dict, Optional, Union, Callable\n\ndef greet(name: str) -> str:\n    return f\"Hello, {name}\"\n\ndef process(items: List[int]) -> Dict[str, int]:\n    return {'sum': sum(items)}\n\ndef maybe_value(x: Optional[int] = None) -> int:\n    return x or 0\n\ndef either(x: Union[int, str]) -> str:\n    return str(x)\n\n# Python 3.10+:\ndef newer(x: int | str) -> str:\n    return str(x)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use property decorators in Python?"}, {"from": "gpt", "value": "```python\nclass Circle:\n    def __init__(self, radius):\n        self._radius = radius\n    \n    @property\n    def radius(self):\n        return self._radius\n    \n    @radius.setter\n    def radius(self, value):\n        if value < 0:\n            raise ValueError(\"Radius must be positive\")\n        self._radius = value\n    \n    @property\n    def area(self):\n        return 3.14159 * self._radius ** 2\n\nc = Circle(5)\nprint(c.area)  # Accessed like attribute, computed on access\nc.radius = 10  # Uses setter\n```"}]}
{"conversations": [{"from": "human", "value": "How do I handle None in Python?"}, {"from": "gpt", "value": "```python\n# Check for None:\nif x is None:\n    # ...\n\nif x is not None:\n    # ...\n\n# Default if None:\nvalue = x if x is not None else default\n# or\nvalue = x or default  # Note: also catches 0, '', []\n\n# Optional chaining (Python 3.8+):\nresult = obj and obj.attr and obj.attr.method()\n\n# Walrus operator (Python 3.8+):\nif (value := get_value()) is not None:\n    process(value)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use *args and **kwargs in Python?"}, {"from": "gpt", "value": "```python\ndef func(*args, **kwargs):\n    print(f\"args: {args}\")      # Tuple of positional args\n    print(f\"kwargs: {kwargs}\")  # Dict of keyword args\n\nfunc(1, 2, 3, a=4, b=5)\n# args: (1, 2, 3)\n# kwargs: {'a': 4, 'b': 5}\n\n# Unpacking:\ndef add(a, b, c):\n    return a + b + c\n\nnums = [1, 2, 3]\nadd(*nums)  # Unpacks list\n\nparams = {'a': 1, 'b': 2, 'c': 3}\nadd(**params)  # Unpacks dict\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use sets in Python?"}, {"from": "gpt", "value": "```python\n# Create:\nmy_set = {1, 2, 3}\nmy_set = set([1, 2, 2, 3])  # {1, 2, 3}\n\n# Operations:\nmy_set.add(4)\nmy_set.remove(1)  # Raises KeyError if missing\nmy_set.discard(1)  # No error if missing\n\n# Set math:\na = {1, 2, 3}\nb = {2, 3, 4}\n\na | b  # Union: {1, 2, 3, 4}\na & b  # Intersection: {2, 3}\na - b  # Difference: {1}\na ^ b  # Symmetric diff: {1, 4}\n\n# Checks:\n2 in my_set  # Membership (O(1))\na.issubset(b)  # Is a subset?\n```"}]}
{"conversations": [{"from": "human", "value": "What's the difference between == and is in Python?"}, {"from": "gpt", "value": "```python\n# == compares values\n# is compares identity (same object in memory)\n\na = [1, 2, 3]\nb = [1, 2, 3]\nc = a\n\na == b  # True (same values)\na is b  # False (different objects)\na is c  # True (same object)\n\n# Use 'is' for:\n#   - None checks: x is None\n#   - Singleton comparisons\n\n# Use '==' for:\n#   - Value equality (most cases)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use walrus operator in Python?"}, {"from": "gpt", "value": "```python\n# Python 3.8+ assignment expression (:=)\n\n# Instead of:\ndata = get_data()\nif data:\n    process(data)\n\n# You can:\nif (data := get_data()):\n    process(data)\n\n# Useful in comprehensions:\n[y for x in items if (y := expensive(x)) > 0]\n\n# In while loops:\nwhile (line := file.readline()):\n    process(line)\n```"}]}
{"conversations": [{"from": "human", "value": "How do I flatten a nested list in Python?"}, {"from": "gpt", "value": "```python\nnested = [[1, 2], [3, 4], [5, 6]]\n\n# One level deep:\nflat = [item for sublist in nested for item in sublist]\n# [1, 2, 3, 4, 5, 6]\n\n# Or:\nimport itertools\nflat = list(itertools.chain.from_iterable(nested))\n\n# Arbitrarily deep:\ndef flatten(lst):\n    result = []\n    for item in lst:\n        if isinstance(item, list):\n            result.extend(flatten(item))\n        else:\n            result.append(item)\n    return result\n```"}]}
{"conversations": [{"from": "human", "value": "How do I get unique values while preserving order in Python?"}, {"from": "gpt", "value": "```python\nitems = [1, 2, 2, 3, 1, 4, 3, 5]\n\n# Python 3.7+ (dict preserves insertion order):\nunique = list(dict.fromkeys(items))\n# [1, 2, 3, 4, 5]\n\n# Or manually:\nseen = set()\nunique = [x for x in items if not (x in seen or seen.add(x))]\n```"}]}
{"conversations": [{"from": "human", "value": "How do I use namedtuple in Python?"}, {"from": "gpt", "value": "```python\nfrom collections import namedtuple\n\nPoint = namedtuple('Point', ['x', 'y'])\np = Point(10, 20)\n\nprint(p.x, p.y)  # 10 20\nprint(p[0], p[1])  # 10 20 (also indexable)\n\n# Immutable:\n# p.x = 5  # Error!\n\n# Convert to dict:\np._asdict()  # {'x': 10, 'y': 20}\n\n# With defaults (Python 3.7+):\nPoint = namedtuple('Point', ['x', 'y'], defaults=[0, 0])\n```"}]}
